{"ast":null,"code":"import { TweenLite, Circ } from \"gsap/all\";\n\nclass BGParticle {\n  constructor(id) {\n    this.id = id;\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    this.points = [];\n    this.target = {};\n    this.canvas = null;\n    this.ctx = null;\n    this.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n    this.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\n  }\n\n  createCanvas() {\n    this.canvas = document.createElement('canvas');\n    this.ctx = this.canvas.getContext('2d');\n    this.canvas.style.display = 'block'; //防止全屏的canvas出现滚动条\n\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n    this.canvas.style.position = 'fixed';\n    this.canvas.style.top = '0';\n    this.canvas.style.left = '0';\n    document.getElementById(this.id).appendChild(this.canvas);\n  }\n\n  createPoints() {\n    const {\n      width,\n      height\n    } = this; //创建粒子和粒子的起始位置\n\n    for (let x = 0; x < width; x = x + width / 20) {\n      for (let y = 0; y < height; y = y + height / 20) {\n        let px = x + Math.random() * width / 20;\n        let py = y + Math.random() * height / 20;\n        let p = {\n          x: px,\n          originX: px,\n          y: py,\n          originY: py\n        };\n        this.points.push(p);\n      }\n    } //给每个粒子添加新属性closest、radius\n\n\n    for (let i = 0; i < this.points.length; i++) {\n      let closest = [];\n      let p1 = this.points[i];\n\n      for (let j = i + 1; j < this.points.length; j++) {\n        let p2 = this.points[j];\n        let placed = false;\n\n        for (let k = 0; k < 5; k++) {\n          if (!placed) {\n            if (closest[k] === undefined) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n\n        for (let k = 0; k < 5; k++) {\n          if (!placed) {\n            if (this.getDistance(p1, p2) < this.getDistance(p1, closest[k])) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n      }\n\n      p1.closest = closest;\n      p1.radius = 2 + Math.random() * 2; //给粒子添加抖动\n\n      this.shakePoint(p1);\n    }\n  }\n\n  shakePoint(point) {\n    TweenLite.to(point, 1 + 1 * Math.random(), {\n      x: point.originX - 50 + Math.random() * 100,\n      y: point.originY - 50 + Math.random() * 100,\n      ease: Circ.easeInOut,\n      onComplete: () => {\n        this.shakePoint(point);\n      }\n    });\n  }\n\n  drawPoint(point, ctx) {\n    if (!point.pointActive) return;\n    ctx.beginPath();\n    ctx.arc(point.x, point.y, point.radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = 'rgba(156,217,249,' + point.pointActive + ')';\n    ctx.fill();\n  }\n\n  drawLines(point, ctx) {\n    if (!point.lineActive) return;\n\n    for (let item of point.closest) {\n      ctx.beginPath();\n      ctx.moveTo(point.x, point.y);\n      ctx.lineTo(item.x, item.y);\n      ctx.strokeStyle = 'rgba(156,217,249,' + point.lineActive + ')';\n      ctx.stroke();\n    }\n  }\n\n  getDistance(p1, p2) {\n    return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\n  }\n\n  handleResize() {\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n  }\n\n  handleMouseMove(e) {\n    let posx = 0,\n        posy = 0;\n\n    if (e.pageX || e.pageY) {\n      posx = e.pageX;\n      posy = e.pageY;\n    } else if (e.clientX || e.clientY) {\n      posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n      posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n    }\n\n    this.target.x = posx;\n    this.target.y = posy;\n  }\n\n  init() {\n    this.createCanvas();\n    this.createPoints();\n    this.start();\n\n    window.onresize = e => this.handleResize(e);\n\n    window.onmousemove = e => this.handleMouseMove(e);\n  }\n\n  start() {\n    const {\n      width,\n      height,\n      getDistance,\n      points,\n      ctx,\n      target,\n      requestAnimationFrame\n    } = this;\n    this.ctx.clearRect(0, 0, width, height);\n\n    for (let point of points) {\n      if (Math.abs(getDistance(target, point)) < 4000) {\n        point.lineActive = 0.3;\n        point.pointActive = 0.6;\n      } else if (Math.abs(getDistance(target, point)) < 20000) {\n        point.lineActive = 0.1;\n        point.pointActive = 0.3;\n      } else if (Math.abs(getDistance(target, point)) < 40000) {\n        point.lineActive = 0.02;\n        point.pointActive = 0.1;\n      } else {\n        point.lineActive = 0;\n        point.pointActive = 0;\n      }\n\n      this.drawLines(point, ctx);\n      this.drawPoint(point, ctx);\n    }\n\n    this.myReq = requestAnimationFrame(() => this.start());\n  }\n\n  destory() {\n    const cancelAnimationFrame = this.cancelAnimationFrame;\n    cancelAnimationFrame(this.myReq);\n    window.onresize = null;\n    window.onmousemove = null;\n  }\n\n}\n\nexport default BGParticle;","map":{"version":3,"sources":["/Users/loki/feature1/Handy-Booking-Management-System/src/utils/BGParticle.js"],"names":["TweenLite","Circ","BGParticle","constructor","id","width","window","innerWidth","height","innerHeight","points","target","canvas","ctx","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","createCanvas","document","createElement","getContext","style","display","position","top","left","getElementById","appendChild","createPoints","x","y","px","Math","random","py","p","originX","originY","push","i","length","closest","p1","j","p2","placed","k","undefined","getDistance","radius","shakePoint","point","to","ease","easeInOut","onComplete","drawPoint","pointActive","beginPath","arc","PI","fillStyle","fill","drawLines","lineActive","item","moveTo","lineTo","strokeStyle","stroke","pow","handleResize","handleMouseMove","e","posx","posy","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","init","start","onresize","onmousemove","clearRect","abs","myReq","destory"],"mappings":"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","sourcesContent":["import {TweenLite,Circ} from \"gsap/all\";\n\nclass BGParticle {\n  constructor(id) {\n    this.id = id\n    this.width = window.innerWidth\n    this.height = window.innerHeight\n    this.points = []\n    this.target = {}\n    this.canvas = null\n    this.ctx = null\n    this.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame || window.msRequestAnimationFrame\n    this.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame\n\n  }\n\n  createCanvas() {\n    this.canvas = document.createElement('canvas')\n    this.ctx = this.canvas.getContext('2d')\n    this.canvas.style.display = 'block'        //防止全屏的canvas出现滚动条\n    this.canvas.width = this.width\n    this.canvas.height = this.height\n    this.canvas.style.position = 'fixed'\n    this.canvas.style.top = '0'\n    this.canvas.style.left = '0'\n    document.getElementById(this.id).appendChild(this.canvas)\n  }\n\n  createPoints() {\n    const {width, height} = this\n    //创建粒子和粒子的起始位置\n    for (let x = 0; x < width; x = x + width / 20) {\n      for (let y = 0; y < height; y = y + height / 20) {\n        let px = x + Math.random() * width / 20;\n        let py = y + Math.random() * height / 20;\n        let p = {x: px, originX: px, y: py, originY: py};\n        this.points.push(p);\n      }\n    }\n    //给每个粒子添加新属性closest、radius\n    for (let i = 0; i < this.points.length; i++) {\n      let closest = [];\n      let p1 = this.points[i];\n      for (let j = i + 1; j < this.points.length; j++) {\n        let p2 = this.points[j]\n        let placed = false;\n        for (let k = 0; k < 5; k++) {\n          if (!placed) {\n            if (closest[k] === undefined) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n        for (let k = 0; k < 5; k++) {\n          if (!placed) {\n            if (this.getDistance(p1, p2) < this.getDistance(p1, closest[k])) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n      }\n      p1.closest = closest;\n      p1.radius = 2 + Math.random() * 2\n      //给粒子添加抖动\n      this.shakePoint(p1);\n    }\n  }\n\n  shakePoint(point) {\n    TweenLite.to(point, 1 + 1 * Math.random(), {\n      x: point.originX - 50 + Math.random() * 100,\n      y: point.originY - 50 + Math.random() * 100, ease: Circ.easeInOut,\n      onComplete: () => {\n        this.shakePoint(point);\n      }\n    });\n  }\n\n  drawPoint(point, ctx) {\n    if (!point.pointActive) return;\n    ctx.beginPath();\n    ctx.arc(point.x, point.y, point.radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = 'rgba(156,217,249,' + point.pointActive + ')';\n    ctx.fill();\n  }\n\n  drawLines(point, ctx) {\n    if (!point.lineActive) return;\n    for (let item of point.closest) {\n      ctx.beginPath();\n      ctx.moveTo(point.x, point.y);\n      ctx.lineTo(item.x, item.y);\n      ctx.strokeStyle = 'rgba(156,217,249,' + point.lineActive + ')';\n      ctx.stroke();\n    }\n  }\n\n  getDistance(p1, p2) {\n    return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\n  }\n\n  handleResize() {\n    this.width = window.innerWidth\n    this.height = window.innerHeight\n    this.canvas.width = this.width\n    this.canvas.height = this.height\n  }\n\n  handleMouseMove(e) {\n    let posx = 0, posy = 0;\n    if (e.pageX || e.pageY) {\n      posx = e.pageX;\n      posy = e.pageY;\n    }\n    else if (e.clientX || e.clientY) {\n      posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n      posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n    }\n    this.target.x = posx;\n    this.target.y = posy;\n  }\n\n  init() {\n    this.createCanvas()\n    this.createPoints()\n    this.start()\n\n    window.onresize = (e) => this.handleResize(e)\n    window.onmousemove = (e) => this.handleMouseMove(e)\n  }\n\n  start() {\n    const {width, height, getDistance, points, ctx, target, requestAnimationFrame} = this\n    this.ctx.clearRect(0, 0, width, height);\n\n    for (let point of points) {\n      if (Math.abs(getDistance(target, point)) < 4000) {\n        point.lineActive = 0.3;\n        point.pointActive = 0.6;\n      } else if (Math.abs(getDistance(target, point)) < 20000) {\n        point.lineActive = 0.1;\n        point.pointActive = 0.3;\n      } else if (Math.abs(getDistance(target, point)) < 40000) {\n        point.lineActive = 0.02;\n        point.pointActive = 0.1;\n      } else {\n        point.lineActive = 0;\n        point.pointActive = 0;\n      }\n\n      this.drawLines(point, ctx)\n      this.drawPoint(point, ctx);\n    }\n    this.myReq = requestAnimationFrame(() => this.start());\n  }\n\n  destory() {\n    const cancelAnimationFrame = this.cancelAnimationFrame\n    cancelAnimationFrame(this.myReq)\n    window.onresize = null\n    window.onmousemove = null\n  }\n}\nexport default BGParticle"]},"metadata":{},"sourceType":"module"}