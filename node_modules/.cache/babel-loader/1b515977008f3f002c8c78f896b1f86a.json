{"ast":null,"code":"var _jsxFileName = \"/Users/loki/feature1/Handy-Booking-Management-System/src/routes/Entry/UploadDemo/index.js\";\nimport React from 'react';\nimport { Card, Col, Row, Icon, Upload, message, Button, Modal, BackTop } from 'antd';\nimport CustomBreadcrumb from '../../../components/CustomBreadcrumb';\nimport TypingCard from '../../../components/TypingCard';\nconst Dragger = Upload.Dragger;\n\nfunction getBase64(img, callback) {\n  const reader = new FileReader();\n  reader.addEventListener('load', () => callback(reader.result));\n  reader.readAsDataURL(img);\n}\n\nconst props = {\n  name: 'file',\n  action: '//jsonplaceholder.typicode.com/posts/',\n  headers: {\n    authorization: 'authorization-text'\n  },\n\n  onChange(info) {\n    if (info.file.status !== 'uploading') {// console.log(info.file, info.fileList);\n    }\n\n    if (info.file.status === 'done') {\n      message.success(`${info.file.name} 文件上传成功`);\n    } else if (info.file.status === 'error') {\n      message.error(`${info.file.name} 文件上传失败`);\n    }\n  },\n\n  defaultFileList: [{\n    uid: 1,\n    name: 'xxx.png',\n    status: 'done',\n    reponse: 'Server Error 500',\n    // custom error message to show\n    url: 'http://www.baidu.com/xxx.png'\n  }, {\n    uid: 2,\n    name: 'yyy.png',\n    status: 'done',\n    url: 'http://www.baidu.com/yyy.png'\n  }, {\n    uid: 3,\n    name: 'zzz.png',\n    status: 'error',\n    reponse: 'Server Error 500',\n    // custom error message to show\n    url: 'http://www.baidu.com/zzz.png'\n  }]\n};\nconst props2 = {\n  name: 'file',\n  multiple: true,\n  action: '//jsonplaceholder.typicode.com/posts/',\n\n  onChange(info) {\n    const status = info.file.status;\n\n    if (status !== 'uploading') {\n      console.log(info.file, info.fileList);\n    }\n\n    if (status === 'done') {\n      message.success(`${info.file.name} file uploaded successfully.`);\n    } else if (status === 'error') {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  }\n\n};\n\nclass UploadDemo extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      previewVisible: false,\n      previewImage: '',\n      fileList: [{\n        uid: -1,\n        name: 'xxx.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n      }]\n    };\n\n    this.handleChange = info => {\n      if (info.file.status === 'uploading') {\n        this.setState({\n          loading: true\n        });\n        return;\n      }\n\n      if (info.file.status === 'done') {\n        // Get this url from response in real world.\n        getBase64(info.file.originFileObj, imageUrl => this.setState({\n          imageUrl,\n          loading: false\n        }));\n      } else if (info.file.status === 'error') {\n        // console.log(info.file)\n        message.error(`${info.file.name} 文件上传失败（${info.file.error.message}）`);\n        this.setState({\n          loading: false\n        });\n      }\n    };\n\n    this.handlePreview = file => {\n      this.setState({\n        previewImage: file.url || file.thumbUrl,\n        previewVisible: true\n      });\n    };\n  }\n\n  beforeUpload(file, fileList) {\n    const isJPG = file.type === 'image/jpeg';\n\n    if (!isJPG) {\n      message.error('只能上传JPG格式的图片');\n    }\n\n    const isLt2M = file.size / 1024 / 1024 < 2;\n\n    if (!isLt2M) {\n      message.error('图片大小不超过 2MB!');\n    }\n\n    return isJPG && isLt2M;\n  }\n\n  render() {\n    const uploadButton = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ant-upload-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, \"Upload\"));\n    const cardContent = `上传是将信息（网页、文字、图片、视频等）通过网页或者上传工具发布到远程服务器上的过程。\n          <ul class=\"card-ul\">\n            <li>当需要上传一个或一些文件时</li>\n            <li>当需要展现上传的进度时</li>\n            <li>当需要使用拖拽交互时</li>\n          </ul>`;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CustomBreadcrumb, {\n      arr: ['输入', '上传'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(TypingCard, {\n      source: cardContent,\n      height: 234,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      bordered: false,\n      className: \"card-item\",\n      title: \"\\u57FA\\u672C\\u7528\\u6CD5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Upload, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }), \"Upload\"))), /*#__PURE__*/React.createElement(Card, {\n      bordered: false,\n      style: { ...styles.colItem,\n        minHeight: 255\n      },\n      title: \"\\u7167\\u7247\\u5899\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Upload, {\n      action: \"//jsonplaceholder.typicode.com/posts/\",\n      listType: \"picture-card\",\n      fileList: this.state.fileList,\n      onPreview: this.handlePreview,\n      onChange: ({\n        fileList\n      }) => this.setState({\n        fileList\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, this.state.fileList.length >= 3 ? null : uploadButton), /*#__PURE__*/React.createElement(Modal, {\n      visible: this.state.previewVisible,\n      onCancel: () => this.setState({\n        previewVisible: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"example\",\n      style: {\n        width: '100%'\n      },\n      src: this.state.previewImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      span: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      bordered: false,\n      className: \"card-item\",\n      title: \"\\u7528\\u6237\\u5934\\u50CF\\u4E0A\\u4F20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      type: \"flex\",\n      align: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Upload, {\n      name: \"avatar\",\n      showUploadList: false,\n      action: \"/upload\",\n      beforeUpload: this.beforeUpload,\n      onChange: this.handleChange,\n      listType: \"picture-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: this.state.loading ? 'loading' : 'plus',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ant-upload-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 23\n      }\n    }, \"Upload\")))), /*#__PURE__*/React.createElement(Col, {\n      span: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, \"\\u70B9\\u51FB\\u4E0A\\u4F20\\u7528\\u6237\\u5934\\u50CF\\uFF0C\\u5E76\\u4F7F\\u7528 beforeUpload \\u9650\\u5236\\u7528\\u6237\\u4E0A\\u4F20\\u7684\\u56FE\\u7247\\u683C\\u5F0F\\u548C\\u5927\\u5C0F\"))), /*#__PURE__*/React.createElement(Card, {\n      bordered: false,\n      className: \"card-item\",\n      title: \"\\u62D6\\u62FD\\u4E0A\\u4F20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dragger, Object.assign({}, props2, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"ant-upload-drag-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"inbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"ant-upload-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, \"\\u70B9\\u51FB\\u6216\\u62D6\\u62FD\\u5230\\u6B64\\u5904\\u5B8C\\u6210\\u4E0A\\u4F20\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"ant-upload-hint\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, \"\\u652F\\u6301\\u5355\\u4E2A\\u6216\\u6279\\u91CF\\u4E0A\\u4F20\\u3002\\u4E25\\u7981\\u4E0A\\u4F20\\u516C\\u53F8\\u6570\\u636E\\u6216\\u5176\\u4ED6\\u5E26\\u6587\\u4EF6\"))))), /*#__PURE__*/React.createElement(BackTop, {\n      visibilityHeight: 200,\n      style: {\n        right: 50\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst styles = {\n  colItem: {\n    minHeight: 230,\n    borderRadius: 3,\n    margin: '10px 0'\n  }\n};\nexport default UploadDemo;","map":{"version":3,"sources":["/Users/loki/feature1/Handy-Booking-Management-System/src/routes/Entry/UploadDemo/index.js"],"names":["React","Card","Col","Row","Icon","Upload","message","Button","Modal","BackTop","CustomBreadcrumb","TypingCard","Dragger","getBase64","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","props","name","action","headers","authorization","onChange","info","file","status","success","error","defaultFileList","uid","reponse","url","props2","multiple","console","log","fileList","UploadDemo","Component","state","loading","previewVisible","previewImage","handleChange","setState","originFileObj","imageUrl","handlePreview","thumbUrl","beforeUpload","isJPG","type","isLt2M","size","render","uploadButton","cardContent","styles","colItem","minHeight","length","width","right","borderRadius","margin"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,EAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8BC,MAA9B,EAAsCC,OAAtC,EAA+CC,MAA/C,EAAuDC,KAAvD,EAA6DC,OAA7D,QAA2E,MAA3E;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AAEA,MAAMC,OAAO,GAAGP,MAAM,CAACO,OAAvB;;AAEA,SAASC,SAAT,CAAmBC,GAAnB,EAAwBC,QAAxB,EAAkC;AAChC,QAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,EAAAA,MAAM,CAACE,gBAAP,CAAwB,MAAxB,EAAgC,MAAMH,QAAQ,CAACC,MAAM,CAACG,MAAR,CAA9C;AACAH,EAAAA,MAAM,CAACI,aAAP,CAAqBN,GAArB;AACD;;AAED,MAAMO,KAAK,GAAG;AACZC,EAAAA,IAAI,EAAE,MADM;AAEZC,EAAAA,MAAM,EAAE,uCAFI;AAGZC,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,EAAE;AADR,GAHG;;AAMZC,EAAAA,QAAQ,CAACC,IAAD,EAAO;AACb,QAAIA,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,WAAzB,EAAsC,CACpC;AACD;;AACD,QAAIF,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,MAAzB,EAAiC;AAC/BvB,MAAAA,OAAO,CAACwB,OAAR,CAAiB,GAAEH,IAAI,CAACC,IAAL,CAAUN,IAAK,SAAlC;AACD,KAFD,MAEO,IAAIK,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,OAAzB,EAAkC;AACvCvB,MAAAA,OAAO,CAACyB,KAAR,CAAe,GAAEJ,IAAI,CAACC,IAAL,CAAUN,IAAK,SAAhC;AACD;AACF,GAfW;;AAgBZU,EAAAA,eAAe,EAAE,CAAC;AAChBC,IAAAA,GAAG,EAAE,CADW;AAEhBX,IAAAA,IAAI,EAAE,SAFU;AAGhBO,IAAAA,MAAM,EAAE,MAHQ;AAIhBK,IAAAA,OAAO,EAAE,kBAJO;AAIa;AAC7BC,IAAAA,GAAG,EAAE;AALW,GAAD,EAMd;AACDF,IAAAA,GAAG,EAAE,CADJ;AAEDX,IAAAA,IAAI,EAAE,SAFL;AAGDO,IAAAA,MAAM,EAAE,MAHP;AAIDM,IAAAA,GAAG,EAAE;AAJJ,GANc,EAWd;AACDF,IAAAA,GAAG,EAAE,CADJ;AAEDX,IAAAA,IAAI,EAAE,SAFL;AAGDO,IAAAA,MAAM,EAAE,OAHP;AAIDK,IAAAA,OAAO,EAAE,kBAJR;AAI4B;AAC7BC,IAAAA,GAAG,EAAE;AALJ,GAXc;AAhBL,CAAd;AAoCA,MAAMC,MAAM,GAAG;AACbd,EAAAA,IAAI,EAAE,MADO;AAEbe,EAAAA,QAAQ,EAAE,IAFG;AAGbd,EAAAA,MAAM,EAAE,uCAHK;;AAIbG,EAAAA,QAAQ,CAACC,IAAD,EAAO;AACb,UAAME,MAAM,GAAGF,IAAI,CAACC,IAAL,CAAUC,MAAzB;;AACA,QAAIA,MAAM,KAAK,WAAf,EAA4B;AAC1BS,MAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAI,CAACC,IAAjB,EAAuBD,IAAI,CAACa,QAA5B;AACD;;AACD,QAAIX,MAAM,KAAK,MAAf,EAAuB;AACrBvB,MAAAA,OAAO,CAACwB,OAAR,CAAiB,GAAEH,IAAI,CAACC,IAAL,CAAUN,IAAK,8BAAlC;AACD,KAFD,MAEO,IAAIO,MAAM,KAAK,OAAf,EAAwB;AAC7BvB,MAAAA,OAAO,CAACyB,KAAR,CAAe,GAAEJ,IAAI,CAACC,IAAL,CAAUN,IAAK,sBAAhC;AACD;AACF;;AAdY,CAAf;;AAiBA,MAAMmB,UAAN,SAAyBzC,KAAK,CAAC0C,SAA/B,CAAyC;AAAA;AAAA;AAAA,SACvCC,KADuC,GAC/B;AACNC,MAAAA,OAAO,EAAE,KADH;AAENC,MAAAA,cAAc,EAAE,KAFV;AAGNC,MAAAA,YAAY,EAAE,EAHR;AAINN,MAAAA,QAAQ,EAAE,CAAC;AACTP,QAAAA,GAAG,EAAE,CAAC,CADG;AAETX,QAAAA,IAAI,EAAE,SAFG;AAGTO,QAAAA,MAAM,EAAE,MAHC;AAITM,QAAAA,GAAG,EAAE;AAJI,OAAD;AAJJ,KAD+B;;AAAA,SAyBvCY,YAzBuC,GAyBvBpB,IAAD,IAAU;AACvB,UAAIA,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,WAAzB,EAAsC;AACpC,aAAKmB,QAAL,CAAc;AAACJ,UAAAA,OAAO,EAAE;AAAV,SAAd;AACA;AACD;;AACD,UAAIjB,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,MAAzB,EAAiC;AAC/B;AACAhB,QAAAA,SAAS,CAACc,IAAI,CAACC,IAAL,CAAUqB,aAAX,EAA0BC,QAAQ,IAAI,KAAKF,QAAL,CAAc;AAC3DE,UAAAA,QAD2D;AAE3DN,UAAAA,OAAO,EAAE;AAFkD,SAAd,CAAtC,CAAT;AAID,OAND,MAMO,IAAIjB,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,OAAzB,EAAkC;AACvC;AACAvB,QAAAA,OAAO,CAACyB,KAAR,CAAe,GAAEJ,IAAI,CAACC,IAAL,CAAUN,IAAK,WAAUK,IAAI,CAACC,IAAL,CAAUG,KAAV,CAAgBzB,OAAQ,GAAlE;AACA,aAAK0C,QAAL,CAAc;AACZJ,UAAAA,OAAO,EAAE;AADG,SAAd;AAGD;AACF,KA3CsC;;AAAA,SA4CvCO,aA5CuC,GA4CtBvB,IAAD,IAAU;AACxB,WAAKoB,QAAL,CAAc;AACZF,QAAAA,YAAY,EAAElB,IAAI,CAACO,GAAL,IAAYP,IAAI,CAACwB,QADnB;AAEZP,QAAAA,cAAc,EAAE;AAFJ,OAAd;AAID,KAjDsC;AAAA;;AAavCQ,EAAAA,YAAY,CAACzB,IAAD,EAAOY,QAAP,EAAiB;AAC3B,UAAMc,KAAK,GAAG1B,IAAI,CAAC2B,IAAL,KAAc,YAA5B;;AACA,QAAI,CAACD,KAAL,EAAY;AACVhD,MAAAA,OAAO,CAACyB,KAAR,CAAc,cAAd;AACD;;AACD,UAAMyB,MAAM,GAAG5B,IAAI,CAAC6B,IAAL,GAAY,IAAZ,GAAmB,IAAnB,GAA0B,CAAzC;;AACA,QAAI,CAACD,MAAL,EAAa;AACXlD,MAAAA,OAAO,CAACyB,KAAR,CAAc,cAAd;AACD;;AACD,WAAOuB,KAAK,IAAIE,MAAhB;AACD;;AA4BDE,EAAAA,MAAM,GAAG;AACP,UAAMC,YAAY,gBAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CADF;AAMA,UAAMC,WAAW,GAAI;;;;;gBAArB;AAMA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,gBAAD;AAAkB,MAAA,GAAG,EAAE,CAAC,IAAD,EAAO,IAAP,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAEA,WAApB;AAAiC,MAAA,MAAM,EAAE,GAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,GAAD;AAAK,MAAA,MAAM,EAAE,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAhB;AAAuB,MAAA,SAAS,EAAC,WAAjC;AAA6C,MAAA,KAAK,EAAC,0BAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD,oBAAYvC,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAQ,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR,WADF,CADF,CADF,eAME,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAhB;AAAuB,MAAA,KAAK,EAAE,EAAC,GAAGwC,MAAM,CAACC,OAAX;AAAoBC,QAAAA,SAAS,EAAE;AAA/B,OAA9B;AAAmE,MAAA,KAAK,EAAC,oBAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,MAAM,EAAC,uCADT;AAEE,MAAA,QAAQ,EAAC,cAFX;AAGE,MAAA,QAAQ,EAAE,KAAKpB,KAAL,CAAWH,QAHvB;AAIE,MAAA,SAAS,EAAE,KAAKW,aAJlB;AAKE,MAAA,QAAQ,EAAE,CAAC;AAACX,QAAAA;AAAD,OAAD,KAAgB,KAAKQ,QAAL,CAAc;AAACR,QAAAA;AAAD,OAAd,CAL5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOG,KAAKG,KAAL,CAAWH,QAAX,CAAoBwB,MAApB,IAA8B,CAA9B,GAAkC,IAAlC,GAAyCL,YAP5C,CADF,eAUE,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAE,KAAKhB,KAAL,CAAWE,cAA3B;AAA2C,MAAA,QAAQ,EAAE,MAAM,KAAKG,QAAL,CAAc;AAACH,QAAAA,cAAc,EAAE;AAAjB,OAAd,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAC,SAAT;AAAmB,MAAA,KAAK,EAAE;AAACoB,QAAAA,KAAK,EAAE;AAAR,OAA1B;AAA2C,MAAA,GAAG,EAAE,KAAKtB,KAAL,CAAWG,YAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAVF,CANF,CADF,eAsBE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAhB;AAAuB,MAAA,SAAS,EAAC,WAAjC;AAA6C,MAAA,KAAK,EAAC,sCAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAC,MAAV;AAAiB,MAAA,KAAK,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,cAAc,EAAE,KAFlB;AAGE,MAAA,MAAM,EAAC,SAHT;AAIE,MAAA,YAAY,EAAE,KAAKO,YAJrB;AAKE,MAAA,QAAQ,EAAE,KAAKN,YALjB;AAME,MAAA,QAAQ,EAAC,cANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWC,OAAX,GAAqB,SAArB,GAAiC,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CAPF,CADF,CADF,eAeE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oLAfF,CADF,CADF,eAsBE,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAhB;AAAuB,MAAA,SAAS,EAAC,WAAjC;AAA6C,MAAA,KAAK,EAAC,0BAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD,oBAAaR,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE;AAAG,MAAA,SAAS,EAAC,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE;AAAG,MAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kFAJF,eAKE;AAAG,MAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0JALF,CADF,CAtBF,CAtBF,CAHF,eA0DE,oBAAC,OAAD;AAAS,MAAA,gBAAgB,EAAE,GAA3B;AAAgC,MAAA,KAAK,EAAE;AAAC8B,QAAAA,KAAK,EAAE;AAAR,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1DF,CADF;AA8DD;;AA9HsC;;AAiIzC,MAAML,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,SAAS,EAAE,GADJ;AAEPI,IAAAA,YAAY,EAAE,CAFP;AAGPC,IAAAA,MAAM,EAAE;AAHD;AADI,CAAf;AAQA,eAAe3B,UAAf","sourcesContent":["import React from 'react'\nimport {Card, Col, Row, Icon, Upload, message, Button, Modal,BackTop} from 'antd'\nimport CustomBreadcrumb from '../../../components/CustomBreadcrumb'\nimport TypingCard from '../../../components/TypingCard'\n\nconst Dragger = Upload.Dragger;\n\nfunction getBase64(img, callback) {\n  const reader = new FileReader();\n  reader.addEventListener('load', () => callback(reader.result));\n  reader.readAsDataURL(img);\n}\n\nconst props = {\n  name: 'file',\n  action: '//jsonplaceholder.typicode.com/posts/',\n  headers: {\n    authorization: 'authorization-text',\n  },\n  onChange(info) {\n    if (info.file.status !== 'uploading') {\n      // console.log(info.file, info.fileList);\n    }\n    if (info.file.status === 'done') {\n      message.success(`${info.file.name} 文件上传成功`);\n    } else if (info.file.status === 'error') {\n      message.error(`${info.file.name} 文件上传失败`);\n    }\n  },\n  defaultFileList: [{\n    uid: 1,\n    name: 'xxx.png',\n    status: 'done',\n    reponse: 'Server Error 500', // custom error message to show\n    url: 'http://www.baidu.com/xxx.png',\n  }, {\n    uid: 2,\n    name: 'yyy.png',\n    status: 'done',\n    url: 'http://www.baidu.com/yyy.png',\n  }, {\n    uid: 3,\n    name: 'zzz.png',\n    status: 'error',\n    reponse: 'Server Error 500', // custom error message to show\n    url: 'http://www.baidu.com/zzz.png',\n  }],\n}\n\nconst props2 = {\n  name: 'file',\n  multiple: true,\n  action: '//jsonplaceholder.typicode.com/posts/',\n  onChange(info) {\n    const status = info.file.status;\n    if (status !== 'uploading') {\n      console.log(info.file, info.fileList);\n    }\n    if (status === 'done') {\n      message.success(`${info.file.name} file uploaded successfully.`);\n    } else if (status === 'error') {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  },\n}\n\nclass UploadDemo extends React.Component {\n  state = {\n    loading: false,\n    previewVisible: false,\n    previewImage: '',\n    fileList: [{\n      uid: -1,\n      name: 'xxx.png',\n      status: 'done',\n      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n    }],\n  }\n\n  beforeUpload(file, fileList) {\n    const isJPG = file.type === 'image/jpeg'\n    if (!isJPG) {\n      message.error('只能上传JPG格式的图片');\n    }\n    const isLt2M = file.size / 1024 / 1024 < 2;\n    if (!isLt2M) {\n      message.error('图片大小不超过 2MB!');\n    }\n    return isJPG && isLt2M;\n  }\n\n  handleChange = (info) => {\n    if (info.file.status === 'uploading') {\n      this.setState({loading: true});\n      return;\n    }\n    if (info.file.status === 'done') {\n      // Get this url from response in real world.\n      getBase64(info.file.originFileObj, imageUrl => this.setState({\n        imageUrl,\n        loading: false,\n      }))\n    } else if (info.file.status === 'error') {\n      // console.log(info.file)\n      message.error(`${info.file.name} 文件上传失败（${info.file.error.message}）`);\n      this.setState({\n        loading: false\n      })\n    }\n  }\n  handlePreview = (file) => {\n    this.setState({\n      previewImage: file.url || file.thumbUrl,\n      previewVisible: true,\n    });\n  }\n\n  render() {\n    const uploadButton = (\n      <div>\n        <Icon type=\"plus\"/>\n        <div className=\"ant-upload-text\">Upload</div>\n      </div>\n    );\n    const cardContent = `上传是将信息（网页、文字、图片、视频等）通过网页或者上传工具发布到远程服务器上的过程。\n          <ul class=\"card-ul\">\n            <li>当需要上传一个或一些文件时</li>\n            <li>当需要展现上传的进度时</li>\n            <li>当需要使用拖拽交互时</li>\n          </ul>`\n    return (\n      <div>\n        <CustomBreadcrumb arr={['输入', '上传']}/>\n        <TypingCard source={cardContent} height={234}/>\n        <Row gutter={16}>\n          <Col span={12}>\n            <Card bordered={false} className='card-item' title='基本用法'>\n              <Upload {...props}>\n                <Button><Icon type=\"upload\"/>Upload</Button>\n              </Upload>\n            </Card>\n            <Card bordered={false} style={{...styles.colItem, minHeight: 255}} title='照片墙'>\n              <Upload\n                action=\"//jsonplaceholder.typicode.com/posts/\"\n                listType=\"picture-card\"\n                fileList={this.state.fileList}\n                onPreview={this.handlePreview}\n                onChange={({fileList}) => this.setState({fileList})}\n              >\n                {this.state.fileList.length >= 3 ? null : uploadButton}\n              </Upload>\n              <Modal visible={this.state.previewVisible} onCancel={() => this.setState({previewVisible: false})}>\n                <img alt=\"example\" style={{width: '100%'}} src={this.state.previewImage}/>\n              </Modal>\n            </Card>\n          </Col>\n          <Col span={12}>\n            <Card bordered={false} className='card-item' title='用户头像上传'>\n              <Row type='flex' align='middle'>\n                <Col span={8}>\n                  <Upload\n                    name=\"avatar\"\n                    showUploadList={false}\n                    action='/upload'\n                    beforeUpload={this.beforeUpload}\n                    onChange={this.handleChange}\n                    listType=\"picture-card\">\n                    <div>\n                      <Icon type={this.state.loading ? 'loading' : 'plus'}/>\n                      <div className=\"ant-upload-text\">Upload</div>\n                    </div>\n                  </Upload>\n                </Col>\n                <Col span={16}>\n                  点击上传用户头像，并使用 beforeUpload 限制用户上传的图片格式和大小\n                </Col>\n              </Row>\n            </Card>\n            <Card bordered={false} className='card-item' title='拖拽上传'>\n              <Dragger {...props2}>\n                <p className=\"ant-upload-drag-icon\">\n                  <Icon type=\"inbox\"/>\n                </p>\n                <p className=\"ant-upload-text\">点击或拖拽到此处完成上传</p>\n                <p className=\"ant-upload-hint\">支持单个或批量上传。严禁上传公司数据或其他带文件</p>\n              </Dragger>\n            </Card>\n          </Col>\n        </Row>\n        <BackTop visibilityHeight={200} style={{right: 50}}/>\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  colItem: {\n    minHeight: 230,\n    borderRadius: 3,\n    margin: '10px 0'\n  }\n}\n\nexport default UploadDemo"]},"metadata":{},"sourceType":"module"}