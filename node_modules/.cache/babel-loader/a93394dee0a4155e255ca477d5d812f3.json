{"ast":null,"code":"var _jsxFileName = \"/Users/loki/feature1/Handy-Booking-Management-System/src/routes/Other/GalleryDemo/index.js\";\nimport React from 'react';\nimport Shuffle from 'shufflejs';\nimport CustomBreadcrumb from '../../../components/CustomBreadcrumb/index';\nimport TypingCard from '../../../components/TypingCard';\nimport { Card, Button, Modal, BackTop } from 'antd';\n\nclass GalleryDemo extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      image: '',\n      visible: false,\n      photos: [{\n        groups: ['nature'],\n        style: 'itemOne',\n        size: '1x1',\n        src: require('./img/01.jpeg')\n      }, {\n        groups: ['nature'],\n        style: 'itemOne',\n        size: '1x1',\n        src: require('./img/02.jpeg')\n      }, {\n        groups: ['nature'],\n        style: 'itemOne',\n        size: '1x1',\n        src: require('./img/03.jpeg')\n      }, {\n        groups: ['scenery'],\n        style: 'itemOne',\n        size: '1x1',\n        src: require('./img/04.jpeg')\n      }, {\n        groups: ['scenery'],\n        style: 'itemTwoRow',\n        size: '1x2',\n        src: require('./img/05.jpeg')\n      }, {\n        groups: ['nature'],\n        style: 'itemOne',\n        size: '1x1',\n        src: require('./img/06.jpeg')\n      }, {\n        groups: ['nature', 'scenery'],\n        style: 'itemTwoCol',\n        size: '2x1',\n        src: require('./img/07.jpeg')\n      }, {\n        groups: ['other'],\n        style: 'itemOne',\n        size: '1x1',\n        src: require('./img/08.jpeg')\n      }, {\n        groups: ['other'],\n        style: 'itemOne',\n        size: '1x1',\n        src: require('./img/09.jpeg')\n      }, {\n        groups: ['nature'],\n        style: 'itemOne',\n        size: '1x1',\n        src: require('./img/10.jpeg')\n      }, {\n        groups: ['other'],\n        style: 'itemOne',\n        size: '1x1',\n        src: require('./img/11.jpeg')\n      }, {\n        groups: ['other', 'scenery'],\n        style: 'itemOne',\n        size: '1x1',\n        src: require('./img/12.jpeg')\n      }]\n    };\n\n    this.showImg = src => {\n      this.setState({\n        visible: true,\n        image: src\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.shuffle = new Shuffle(this.shuffleDemo, {\n      itemSelector: '.photo-item',\n      sizer: this.sizer\n    });\n  }\n\n  componentDidUpdate() {// this.shuffle.resetItems();\n  }\n\n  componentWillUnmount() {\n    this.shuffle.destroy();\n    this.shuffle = null;\n  }\n\n  _whenPhotosLoaded(photos) {\n    return Promise.all(photos.map(photo => new Promise(resolve => {\n      const image = document.createElement('img');\n      image.src = photo.src;\n\n      if (image.naturalWidth > 0 || image.complete) {\n        resolve(photo);\n      } else {\n        image.onload = () => {\n          resolve(photo);\n        };\n      }\n    })));\n  }\n\n  render() {\n    const cardContent = `<ul class='card-ul'}>\n      <li>快速 - 在初始化，排序或过滤器上只有一个强制同步布局（又称回流</li>\n      <li>回应（尝试调整窗口大小！）</li>\n      <li>按组过滤项目</li>\n      <li>项目可以有多个组，大小不同</li>\n      <li>排序项目</li>\n      <li>高级过滤（如搜索）</li>\n    </ul>`;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CustomBreadcrumb, {\n      arr: ['其它', '画廊'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(TypingCard, {\n      title: \"shufflejs\\u63D2\\u4EF6\",\n      source: cardContent,\n      height: 290,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Card, {\n      bordered: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        marginRight: 20\n      },\n      onClick: () => this.shuffle.filter(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, \"\\u5168\\u90E8\"), /*#__PURE__*/React.createElement(Button, {\n      style: {\n        marginRight: 20\n      },\n      onClick: () => this.shuffle.filter('scenery'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }, \"\\u98CE\\u666F\"), /*#__PURE__*/React.createElement(Button, {\n      style: {\n        marginRight: 20\n      },\n      onClick: () => this.shuffle.filter('nature'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, \"\\u81EA\\u7136\"), /*#__PURE__*/React.createElement(Button, {\n      style: {\n        marginRight: 20\n      },\n      onClick: () => this.shuffle.filter('other'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, \"\\u5176\\u4ED6\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '20px 32px',\n        minHeight: 500\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: div => this.shuffleDemo = div,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, this.state.photos.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"photo-item\",\n      \"data-groups\": JSON.stringify(item.groups),\n      onClick: () => this.showImg(item.src),\n      style: styles[item.style],\n      key: item.src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'aspect aspect--' + item.size,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"aspect__inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.src,\n      alt: \"\",\n      width: \"100%\",\n      height: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 23\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '8.33333%'\n      },\n      ref: div => this.sizer = div,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Modal, {\n      footer: null,\n      closable: false,\n      visible: this.state.visible,\n      wrapClassName: \"vertical-center-modal\",\n      onCancel: () => this.setState({\n        visible: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.image,\n      alt: \"\",\n      width: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(BackTop, {\n      visibilityHeight: 200,\n      style: {\n        right: 50\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst styles = {\n  itemOne: {\n    width: '25%',\n    marginBottom: 8,\n    padding: '0 4px'\n  },\n  itemTwoCol: {\n    width: '50%',\n    marginBottom: 8,\n    padding: '0 4px'\n  },\n  itemTwoRow: {\n    width: '25%',\n    marginBottom: 8,\n    padding: '0 4px'\n  }\n};\nexport default GalleryDemo;","map":{"version":3,"sources":["/Users/loki/feature1/Handy-Booking-Management-System/src/routes/Other/GalleryDemo/index.js"],"names":["React","Shuffle","CustomBreadcrumb","TypingCard","Card","Button","Modal","BackTop","GalleryDemo","Component","state","image","visible","photos","groups","style","size","src","require","showImg","setState","componentDidMount","shuffle","shuffleDemo","itemSelector","sizer","componentDidUpdate","componentWillUnmount","destroy","_whenPhotosLoaded","Promise","all","map","photo","resolve","document","createElement","naturalWidth","complete","onload","render","cardContent","marginRight","filter","padding","minHeight","div","item","index","JSON","stringify","styles","width","right","itemOne","marginBottom","itemTwoCol","itemTwoRow"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Shuffle from 'shufflejs'\nimport CustomBreadcrumb from '../../../components/CustomBreadcrumb/index'\nimport TypingCard from '../../../components/TypingCard'\nimport {Card,Button,Modal,BackTop} from 'antd'\n\nclass GalleryDemo extends React.Component{\n  state = {\n    image:'',\n    visible:false,\n    photos : [\n      {\n        groups:['nature'],\n        style:'itemOne',\n        size:'1x1',\n        src:require('./img/01.jpeg')\n      },\n      {\n        groups:['nature'],\n        style:'itemOne',\n        size:'1x1',\n        src:require('./img/02.jpeg')\n      },\n      {\n        groups:['nature'],\n        style:'itemOne',\n        size:'1x1',\n        src:require('./img/03.jpeg')\n      },\n      {\n        groups:['scenery'],\n        style:'itemOne',\n        size:'1x1',\n        src:require('./img/04.jpeg')\n      },\n      {\n        groups:['scenery'],\n        style:'itemTwoRow',\n        size:'1x2',\n        src:require('./img/05.jpeg')\n      },\n      {\n        groups:['nature'],\n        style:'itemOne',\n        size:'1x1',\n        src:require('./img/06.jpeg')\n      },\n      {\n        groups:['nature','scenery'],\n        style:'itemTwoCol',\n        size:'2x1',\n        src:require('./img/07.jpeg')\n      },\n      {\n        groups:['other'],\n        style:'itemOne',\n        size:'1x1',\n        src:require('./img/08.jpeg')\n      },\n      {\n        groups:['other'],\n        style:'itemOne',\n        size:'1x1',\n        src:require('./img/09.jpeg')\n      },\n      {\n        groups:['nature'],\n        style:'itemOne',\n        size:'1x1',\n        src:require('./img/10.jpeg')\n      },\n      {\n        groups:['other'],\n        style:'itemOne',\n        size:'1x1',\n        src:require('./img/11.jpeg')\n      },\n      {\n        groups:['other','scenery'],\n        style:'itemOne',\n        size:'1x1',\n        src:require('./img/12.jpeg')\n      },\n    ]\n  }\n  componentDidMount(){\n    this.shuffle = new Shuffle(this.shuffleDemo, {\n      itemSelector: '.photo-item',\n      sizer: this.sizer,\n    });\n  }\n  componentDidUpdate() {\n    // this.shuffle.resetItems();\n  }\n\n  componentWillUnmount() {\n    this.shuffle.destroy();\n    this.shuffle = null;\n  }\n  _whenPhotosLoaded(photos) {\n    return Promise.all(photos.map(photo => new Promise((resolve) => {\n      const image = document.createElement('img');\n      image.src = photo.src;\n\n      if (image.naturalWidth > 0 || image.complete) {\n        resolve(photo);\n      } else {\n        image.onload = () => {\n          resolve(photo);\n        };\n      }\n    })));\n  }\n  showImg = (src)=>{\n    this.setState({\n      visible:true,\n      image:src\n    })\n  }\n\n  render(){\n    const cardContent = `<ul class='card-ul'}>\n      <li>快速 - 在初始化，排序或过滤器上只有一个强制同步布局（又称回流</li>\n      <li>回应（尝试调整窗口大小！）</li>\n      <li>按组过滤项目</li>\n      <li>项目可以有多个组，大小不同</li>\n      <li>排序项目</li>\n      <li>高级过滤（如搜索）</li>\n    </ul>`\n    return (\n      <div>\n        <CustomBreadcrumb arr={['其它','画廊']}/>\n        <TypingCard title='shufflejs插件' source={cardContent} height={290}/>\n        <Card bordered={false}>\n          <Button style={{marginRight:20}} onClick={()=>this.shuffle.filter()}>全部</Button>\n          <Button style={{marginRight:20}} onClick={()=>this.shuffle.filter('scenery')}>风景</Button>\n          <Button style={{marginRight:20}} onClick={()=>this.shuffle.filter('nature')}>自然</Button>\n          <Button style={{marginRight:20}} onClick={()=>this.shuffle.filter('other')}>其他</Button>\n        </Card>\n        <div style={{padding: '20px 32px',minHeight:500}}>\n          <div ref={(div)=>this.shuffleDemo=div}>\n            {\n              this.state.photos.map((item,index)=>(\n                <div\n                  className='photo-item'\n                  data-groups={JSON.stringify(item.groups)}\n                  onClick={()=>this.showImg(item.src)}\n                  style={styles[item.style]} key={item.src}>\n                  <div className={'aspect aspect--'+item.size}>\n                    <div className='aspect__inner'>\n                      <img src={item.src} alt=\"\" width='100%' height='100%'/>\n                    </div>\n                  </div>\n                </div>\n              ))\n            }\n            <div style={{width:'8.33333%'}}  ref={(div)=>this.sizer = div}/>\n          </div>\n        </div>\n        <Modal\n          footer={null} closable={false}\n          visible={this.state.visible}\n          wrapClassName=\"vertical-center-modal\"\n          onCancel={()=>this.setState({visible:false})}>\n          <img src={this.state.image} alt=\"\" width='100%'/>\n        </Modal>\n        <BackTop visibilityHeight={200} style={{right: 50}}/>\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  itemOne:{\n    width:'25%',\n    marginBottom:8,\n    padding:'0 4px'\n\n  },\n  itemTwoCol:{\n    width:'50%',\n    marginBottom:8,\n    padding:'0 4px'\n  },\n  itemTwoRow:{\n    width:'25%',\n    marginBottom:8,\n    padding:'0 4px'\n  }\n\n}\n\nexport default GalleryDemo"]},"metadata":{},"sourceType":"module"}